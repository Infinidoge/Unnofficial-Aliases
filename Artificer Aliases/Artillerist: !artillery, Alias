!artillery [summon|prot|force|flame] [-t target] (if prot)

!alias artillery {{c,ar,a,A,cc=combat(),argparse(&ARGS&),&ARGS&[0] if &ARGS& else '',int(get('ArtificerLevel',0)),"Eldritch Cannon"}}{{T,P,F,S,B,v=ar.get("t") if ar.get("t") else '',"prot" in a,"flame" in a,"summon" in a,"force" in a,cc_exists(cc) and get_cc(cc)>0}}{{"multiline" if S else "embed"}} 
{{"!embed" if S else ''}}{{t,thp,s=[c.get_combatant(x) for x in T] if c and T and P else [],vroll(f"1d8+{intelligenceMod}"),ar.last('l',1,int)}}{{[x.set_thp(thp.total) for x in t] if t and P else ''}}{{(mod_cc(cc,-1) if v else use_slot(s) if get_slots(s) and not v else err(f'No spell slots of Level {s} remaining.')) if S else ''}} -title "<name> {{"summons" if S else "uses"}} their {{"Protector Cannon" if P else "Flamethrower" if F else "Force Ballista" if B else f'{cc}'}}!" -desc "{{f'The {cc} emites a burst of protective energy that grants itself and each creature of your choice within 10 feet of it a number of temporary hit points equal to 1d8 plus your Intelligence modifier.' if P else f'{get_gvar("ad723b04-079e-448a-aecf-40e37affd511")}' if F else f'{get_gvar("c203f6a4-b637-4b0a-bc85-dcb468a87451")}' if B else f'{cc} has been summoned!' if S else f'{get_gvar("fd4d8e1c-bbcc-4c8f-a81d-79f1f2224163")}'}}" {{f'-f "THP Roll|{thp}"' if P else ''}} -footer "{{"\n".join([str(x) for x in t]) if t else ""}}{{'' if S else "\n"}}!artillery [summon|prot|force|flame] [-t target] (if prot)" -color <color> -thumb <image> {{f'-f "{f"{cc}" if v else "Spell Slots"} (-1)|{cc_str(cc) if v else slots_str(s)}"' if S else ''}}
{{f'!i add 0 "{cc} ({name})" -hp {A*5} -ac 18 -immune psychic -immune poison -p 10' if S else ''}}
{{f'!i add 0 "{cc} ({name}) (2)" -hp {A*5} -ac 18 -immune psychic -immune poison -p 10' if S and A>14 else ''}}
